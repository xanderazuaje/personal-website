<svg
    class="maximizeIcon"
    cursor="pointer"
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
    class="feather feather-maximize-2"
>
    <g class="arrow1">
        <polyline points="15 3 21 3 21 9"></polyline>
        <line x1="21" y1="3" x2="14" y2="10"></line>
    </g>
    <g class="arrow2">
        <polyline points="9 21 3 21 3 15"></polyline>
        <line x1="3" y1="21" x2="10" y2="14"></line>
    </g>
</svg>

<style>
    .maximized {
        color: var(--primary-hover);
        transition: all 0.3s ease-in-out;
    }
    .maximizeIcon:hover{
        filter: drop-shadow(var(--button-hover));
    }
</style>

<script>
    import gsap from "gsap";
    
    const arrow1 = document.querySelector(".arrow1");
    const arrow2 = document.querySelector(".arrow2");
    const maximizeIcon = document.querySelector(".maximizeIcon");

    maximizeIcon.addEventListener("mouseenter", () => {
        gsap.to(arrow1, {
            duration: 0.2,
            x: 2,
            y: -2,
            ease: "power2.out",
        });
        gsap.to(arrow2, {
            duration: 0.2,
            x: -2,
            y: 2,
            ease: "power2.out",
        });
    });

    maximizeIcon.addEventListener("mouseleave", () => {
        gsap.to(arrow1, {
            duration: 0.2,
            x: 0,
            y: 0,
            ease: "power2.out",
        });
        gsap.to(arrow2, {
            duration: 0.2,
            x: 0,
            y: 0,
            ease: "power2.out",
        });
    });

    let isMaximized = false;

    maximizeIcon.addEventListener("click", () => {
        if (isMaximized) {
            gsap.to(arrow1, {
                duration: 0.3,
                rotation: 0,
            });
            gsap.to(arrow2, {
                duration: 0.3,
                rotation: 0,
                x: 0,
                y: 0,
            });
            isMaximized = false;
        }
        else {
            gsap.to(arrow1, {
                duration: 0.3,
                rotation: 180,
                transformOrigin: "center",
            });
            gsap.to(arrow2, {
                duration: 0.3,
                rotation: -180,
                transformOrigin: "center",
            });
            isMaximized = true;
        }
        maximizeIcon.classList.toggle("maximized");
    });
</script>
